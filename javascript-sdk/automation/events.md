# Events

Both the client and session emit events and can be listened to using `.on(event, callback)`

## Client

| Event      | Type                  | Description                                                                                                                                                                                                                                                                                                                                |
| ---------- | --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| queue      | `Record<string, any>` | <p>Your position in queue for the device.<br><br>If <code>type</code> is <code>account</code> you have reached the maximum amount of concurrent sessions for your account and are in queue for the next available slot.<br><br>If <code>type</code> is <code>session</code>, you are in a queue to wait for the next available device.</p> |
| error      | `string`              | An error has occurred                                                                                                                                                                                                                                                                                                                      |
| deviceInfo | `Record<string, any>` | <p>Information about the current device, such as type, orientation, and screen dimensions. <br><br>It also contains rendered dimensions of the device within the embed.</p>                                                                                                                                                                |
| session    | `Session`             | A new session has started, either by `client.startSession()` or the user clicking "Tap to Play" on the device                                                                                                                                                                                                                              |

## Session

| Event              | Type                                                                                                                      | Description                                                                                                                                                                                                                                                                                                                                     |
| ------------------ | ------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| log                | `{ message: string }`                                                                                                     | <p>Debug log from the device<br><br>Requires <a href="../configuration.md#debug">debug</a> to be set to <code>true</code></p>                                                                                                                                                                                                                   |
| network            | `Record<string, any>`                                                                                                     | <p>Intercepted network request or responses.<br><br>Requires <a href="../configuration.md#proxy">proxy</a> to be set to <code>intercept</code><br><br>On Android the URLs will contain the resolved IP address instead of of the hostname. If you need the hostname, you can get it from the <code>:authority</code> header on the request.</p> |
| error              | `string`                                                                                                                  | An error has occurred on the session                                                                                                                                                                                                                                                                                                            |
| action             | `Record<string, any>`                                                                                                     | An action has been recorded                                                                                                                                                                                                                                                                                                                     |
| interaction        | `Record<string, any>`                                                                                                     | Session received interaction from the user                                                                                                                                                                                                                                                                                                      |
| inactivityWarning  | `{ secondsRemaining: number }`                                                                                            | <p>Session is about to timeout due to inactivity.</p><p>Any user interaction or a <a href="events.md#heartbeat">heartbeat</a> will reset the timeout.</p>                                                                                                                                                                                       |
| orientationChanged | `'portrait' \| 'landscape'`                                                                                               | The device has changed orientation                                                                                                                                                                                                                                                                                                              |
| video              | <p><code>{</code> <br><code>buffer: Uint8Array, width: number, height: number, codec: string</code><br><code>}</code></p> | <p>Video frames of the current session.<br><br>When codec is <code>h264</code>, the buffer is a raw frame of the stream. These frames can be muxed (using something like <a href="https://github.com/samirkumardas/jmuxer">jmuxer</a>) to turn it into a video format.<br><br>When codec is <code>jpeg</code> the buffers are jpeg images.</p>  |
| audio              | <p><code>{</code> <br><code>buffer: Uint8Array, codec: 'aac'</code> <br><code>}</code></p>                                | <p>Audio frames of the current session.<br><br>Like <code>h264</code> with the <code>video</code> event, these can be muxed as well.</p>                                                                                                                                                                                                        |

